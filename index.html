<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Haryana Sandhya Times</title>
    <link rel="stylesheet" href="admin-styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.quilljs.com/1.3.6/quill.snow.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css">
</head>
<body>
    <div id="loginSection" class="login-container">
        <div class="login-box">
            <img src="logo2.png.jpg" alt="Logo" class="login-logo">
            <h2>Admin Login</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="loginPassword" required>
                </div>
                <button type="submit" class="btn-primary">Login</button>
            </form>
        </div>
    </div>

    <div id="adminSection" style="display: none;">
        <header class="header">
            <div class="container">
                <div class="header-content">
                    <div class="logo-section">
                        <img src="logo2.png.jpg" alt="Haryana Sandhya Times Logo" class="logo">
                        <div class="logo-text">
                            <h1>Admin Panel</h1>
                            <p class="tagline">हरियाणा संध्या टाइम्स</p>
                        </div>
                    </div>
                    <div class="header-actions">
                        <button class="btn-icon" onclick="window.open('HST.html', '_blank')">
                            <i class="fas fa-external-link-alt"></i>
                            <span>View Site</span>
                        </button>
                        <button class="btn-logout" id="logoutBtn">
                            <i class="fas fa-sign-out-alt"></i>
                            <span>Logout</span>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <nav class="sidebar" id="sidebar">
            <ul class="sidebar-menu">
                <li>
                    <a href="#" class="menu-link active" data-section="dashboard">
                        <i class="fas fa-chart-line"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="menu-link" data-section="newArticle">
                        <i class="fas fa-plus-circle"></i>
                        <span>New Article</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="menu-link" data-section="articles">
                        <i class="fas fa-newspaper"></i>
                        <span>All Articles</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="menu-link" data-section="drafts">
                        <i class="fas fa-file-alt"></i>
                        <span>Drafts</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="menu-link" data-section="genres">
                        <i class="fas fa-tags"></i>
                        <span>Manage Genres</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="menu-link" data-section="reporters">
                        <i class="fas fa-users"></i>
                        <span>Reporter Applications</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="menu-link" data-section="settings">
                        <i class="fas fa-cog"></i>
                        <span>Settings</span>
                    </a>
                </li>
            </ul>
        </nav>

        <button class="sidebar-toggle" id="sidebarToggle">
            <i class="fas fa-bars"></i>
        </button>

        <main class="main-content" id="mainContent">
            <section id="dashboardSection" class="section active">
                <h2 class="page-title">Dashboard</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <i class="fas fa-newspaper"></i>
                        <div class="stat-info">
                            <h3 id="totalArticles">0</h3>
                            <p>Total Articles</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-file-alt"></i>
                        <div class="stat-info">
                            <h3 id="totalDrafts">0</h3>
                            <p>Drafts</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-users"></i>
                        <div class="stat-info">
                            <h3 id="totalApplications">0</h3>
                            <p>Reporter Applications</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-tags"></i>
                        <div class="stat-info">
                            <h3 id="totalGenres">0</h3>
                            <p>Genres</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="newArticleSection" class="section">
                <h2 class="page-title">Create New Article</h2>
                <form id="articleForm" class="article-form">
                    <input type="hidden" id="articleId">
                    <input type="hidden" id="editMode">
                    
                    <div class="form-row">
                        <div class="form-group full-width">
                            <label>Article Title *</label>
                            <input type="text" id="articleTitle" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group full-width">
                            <label>Tagline (Brief Description) *</label>
                            <textarea id="articleTagline" rows="3" maxlength="300" required></textarea>
                            <small class="char-count"><span id="taglineCount">0</span>/300</small>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Genre *</label>
                            <select id="articleGenre" required>
                                <option value="">Select Genre</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Location</label>
                            <input type="text" id="articleLocation">
                        </div>
                        <div class="form-group">
                            <label>Reporter Name</label>
                            <input type="text" id="articleReporter">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group full-width">
                            <label>Featured Image *</label>
                            <input type="file" id="articleImage" accept="image/*" class="file-input">
                            <div id="imagePreview" class="image-preview">
                                <img id="previewImg" src="" alt="Preview">
                                <button type="button" class="btn-crop" id="cropBtn" style="display: none;">
                                    <i class="fas fa-crop"></i> Crop Image
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group full-width">
                            <label>Additional Images (Optional)</label>
                            <input type="file" id="additionalImages" accept="image/*" multiple class="file-input">
                            <small style="color: #666; margin-top: 5px; display: block;">You can select multiple images</small>
                            <div id="additionalImagesPreview" class="additional-images-preview"></div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group full-width">
                            <label>Article Content *</label>
                            <div id="editor"></div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn-secondary" id="saveDraftBtn">
                            <i class="fas fa-save"></i> Save as Draft
                        </button>
                        <button type="submit" class="btn-primary">
                            <i class="fas fa-paper-plane"></i> Publish Article
                        </button>
                    </div>
                </form>
            </section>

            <section id="articlesSection" class="section">
                <h2 class="page-title">All Articles</h2>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Title</th>
                                <th>Genre</th>
                                <th>Published</th>
                                <th>Updated</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="articlesTableBody"></tbody>
                    </table>
                </div>
            </section>

            <section id="draftsSection" class="section">
                <h2 class="page-title">Draft Articles</h2>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Title</th>
                                <th>Genre</th>
                                <th>Created</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="draftsTableBody"></tbody>
                    </table>
                </div>
            </section>

            <section id="genresSection" class="section">
                <h2 class="page-title">Manage Genres</h2>
                <div class="genre-manager">
                    <form id="genreForm" class="inline-form">
                        <input type="text" id="genreName" placeholder="Genre Name" required>
                        <input type="text" id="genreIcon" placeholder="Icon Class (e.g., fas fa-newspaper)" required>
                        <button type="submit" class="btn-primary">
                            <i class="fas fa-plus"></i> Add Genre
                        </button>
                    </form>
                    <div class="genres-list" id="genresList"></div>
                </div>
            </section>

            <section id="reportersSection" class="section">
                <h2 class="page-title">Reporter Applications</h2>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Mobile</th>
                                <th>District</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="reportersTableBody"></tbody>
                    </table>
                </div>
            </section>

            <section id="settingsSection" class="section">
                <h2 class="page-title">Settings</h2>
                <div class="settings-container">
                    <h3>About Us Information</h3>
                    <form id="settingsForm">
                        <div class="form-group">
                            <label>Name/Title</label>
                            <input type="text" id="settingsName">
                        </div>
                        <div class="form-group">
                            <label>Description</label>
                            <textarea id="settingsDescription" rows="6"></textarea>
                        </div>
                        <div class="form-group">
                            <label>Image</label>
                            <input type="file" id="settingsImage" accept="image/*">
                            <div id="settingsImagePreview" class="image-preview"></div>
                        </div>
                        <button type="submit" class="btn-primary">
                            <i class="fas fa-save"></i> Save Settings
                        </button>
                    </form>
                </div>
            </section>
        </main>
    </div>

    <div id="cropModal" class="modal">
        <div class="modal-content crop-modal">
            <div class="modal-header">
                <h3>Crop Image</h3>
                <button class="modal-close" id="closeCropModal">&times;</button>
            </div>
            <div class="crop-container">
                <img id="cropImage" src="" alt="Crop">
            </div>
            <div class="modal-actions">
                <button class="btn-secondary" id="cancelCrop">Cancel</button>
                <button class="btn-primary" id="applyCrop">Apply Crop</button>
            </div>
        </div>
    </div>

    <div id="viewModal" class="modal">
        <div class="modal-content view-modal">
            <div class="modal-header">
                <h3>Application Details</h3>
                <button class="modal-close" id="closeViewModal">&times;</button>
            </div>
            <div id="modalBody" class="modal-body"></div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>
    <script src="admin-script.js"></script>
</body>

</html>
